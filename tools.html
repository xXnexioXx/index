<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kompendium</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="landing">

  <!-- Menü Button -->
  <button class="menu-toggle">☰</button>
  <div class="menu">
    <a href="#">Start</a>
    <a href="#">Über</a>
    <a href="#">Kontakt</a>
  </div>

  <div id="frame" class="frame">
    <section>
      <h1>Willkommen im Kompendium</h1>
      <p style="margin-top: 100px">Dies ist eine Demo-Seite.</p>
    </section>

    <section>
      <!-- 1. Kompendium Block -->
      <div class="kompendium-container">
        <h2 class="kompendium-title">Download</h2>
        <div class="download-item">
          <iframe src="https://example.com" width="100%" height="400"></iframe>
          <button class="download-button">Download starten</button>
        </div>
      </div>

      <!-- 2. Kontaktformular Block -->
      <div class="kompendium-container">
        <h2 class="kompendium-title">Kontakt</h2>
        <button class="contact-open-btn">Kontakt öffnen</button>
      </div>
    </section>
  </div>

  <!-- Modal für Kontaktformular -->
  <div id="contactModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Kontaktformular</h2>
      <form action="https://api.web3forms.com/submit" method="POST">
        <input type="hidden" name="access_key" value="YOUR_ACCESS_KEY_HERE">

        <label for="name">Name</label>
        <input type="text" id="name" name="name" maxlength="30" required>

        <label for="email">E-Mail</label>
        <input type="email" id="email" name="email" maxlength="50" required>

        <label for="message">Nachricht</label>
        <textarea id="message" name="message" rows="3" maxlength="500" required></textarea>
        <div class="char-counter"><span id="charCount">0</span>/500</div>

        <button type="submit" class="download-button">Absenden</button>
      </form>
    </div>
  </div>

  <script>
    // Menü
    const menuToggle = document.querySelector(".menu-toggle");
    const menu = document.querySelector(".menu");
    menuToggle.addEventListener("click", () => {
      menu.classList.toggle("active");
    });

    // Modal öffnen/schließen
    const modal = document.getElementById("contactModal");
    const openBtn = document.querySelector(".contact-open-btn");
    const closeBtn = document.querySelector(".close-btn");

    openBtn.onclick = () => { modal.style.display = "block"; }
    closeBtn.onclick = () => { modal.style.display = "none"; }
    window.onclick = (event) => {
      if (event.target === modal) modal.style.display = "none";
    }

    // Nachricht Feld: Autoresize + Counter
    const messageInput = document.getElementById("message");
    const charCount = document.getElementById("charCount");

    messageInput.addEventListener("input", () => {
      // Zeichenzähler
      charCount.textContent = messageInput.value.length;

      // Auto-resize
      messageInput.style.height = "auto";
      messageInput.style.height = (messageInput.scrollHeight) + "px";
    });
  </script>

</body>
</html>
